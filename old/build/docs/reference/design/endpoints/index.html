<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Praxis Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Praxis Blog Atom Feed"><title data-react-helmet="true">Endpoints | Praxis</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Endpoints | Praxis"><meta data-react-helmet="true" name="description" content="With Praxis, you can define all of the API endpoints that your API provides. An enpoint is commonly a set of API actions that are related to a given resource type or related set of actions. i.e., the Users endpoint might define all the actions to list/create and update users."><meta data-react-helmet="true" property="og:description" content="With Praxis, you can define all of the API endpoints that your API provides. An enpoint is commonly a set of API actions that are related to a given resource type or related set of actions. i.e., the Users endpoint might define all the actions to list/create and update users."><meta data-react-helmet="true" property="og:url" content="https://www.praxis-framework.io/docs/reference/design/endpoints"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://www.praxis-framework.io/docs/reference/design/endpoints"><link rel="stylesheet" href="/styles.ab2c79ee.css">
<link rel="preload" href="/styles.27a80096.js" as="script">
<link rel="preload" href="/runtime~main.d759ace7.js" as="script">
<link rel="preload" href="/main.0f7e767c.js" as="script">
<link rel="preload" href="/1.1d955ac3.js" as="script">
<link rel="preload" href="/65.fc2dba12.js" as="script">
<link rel="preload" href="/66.81df1f16.js" as="script">
<link rel="preload" href="/935f2afb.f1e5e5bf.js" as="script">
<link rel="preload" href="/64.4c9a6482.js" as="script">
<link rel="preload" href="/b26b34a4.77c19e57.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img src="/img/logo.png" alt="Praxis Logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logo.png" alt="Praxis Logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">Praxis</strong></a></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/gettingStarted/intro">Getting Started</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/reference/intro">Reference</a><a href="https://github.com/praxis/praxis" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2N3Q"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_3NWk">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_3NWk">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/logo.png" alt="Praxis Logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logo.png" alt="Praxis Logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">Praxis</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/gettingStarted/intro">Getting Started</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/reference/intro">Reference</a></li><li class="menu__list-item"><a href="https://github.com/praxis/praxis" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_vMrn"><div class="docSidebarContainer_3Ak5" role="complementary"><div class="sidebar_3gvy"><div class="menu menu--responsive thin-scrollbar menu_1yIk"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_1CUI" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Intro</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro/intro">Intro</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro/installation">Installation</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Getting Started</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/gettingStarted/intro">Intro</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/gettingStarted/designingApiResources">Designing our API resources</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/gettingStarted/settingUpOurDB">Setting Up Our Database</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/gettingStarted/implementingReads">Implementing Reads</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/gettingStarted/buildingCRUD">Building CRUD</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Reference</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/intro">Introduction</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!" tabindex="0">Design</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/design/media-types">Media Types</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/reference/design/endpoints">Endpoints</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/design/actions">Actions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/design/api-definition">General API Definitions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/design/response-definitions">Responses</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/design/traits">Traits</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/design/doc-generation">Document Generation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/design/multipart">Multipart</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Implementation</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/implementation/controllers">Controllers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/implementation/application">Application</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/implementation/responses">Responses</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/implementation/request-life-cycle">Request Life Cycle</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/implementation/multipart">Multipart Types</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Extensions</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/extensions/intro">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/extensions/mapper-plugin">Mapper Plugin</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/extensions/pagination-plugin">Pagination Plugin</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/extensions/field-selection">Field Selection</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/extensions/filtering">Filtering</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/extensions/rendering">Rendering</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Internals</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/internals/intro">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/internals/field_selection">FieldSelection</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/internals/field_expansion">FieldExpansion</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/internals/mapper_selectors">MapperSelectors</a></li></ul></li></ul></li></ul></div><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_2WRA"><svg width="20" height="20" role="img" class="collapseSidebarButtonIcon_CoMu"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div><main class="docMainContainer_2iGs"><div class="container padding-vert--lg docItemWrapper_1bxp"><div class="row"><div class="col docItemCol_U38p"><div class="docItemContainer_a7m4"><article><header><h1 class="docTitle_Oumm">Endpoints</h1></header><div class="markdown"><p>With Praxis, you can define all of the API endpoints that your API provides. An enpoint is commonly a set of API actions that are related to a given resource type or related set of actions. i.e., the Users endpoint might define all the actions to list/create and update users.</p><p>Defining an endpoint is done by creating a class that derives from <code>Praxis::EndpointDefinition</code>. Using this class you will be able to define all of the aspects of your endpoint including versioning, description, all actions, with their parameters, routing, responses, authentication, etc.</p><p>Here&#x27;s a simple example of a <code>Blogs</code> endpoint definition which provides actions related to the <code>MediaTypes::Blog</code> media
type. </p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-ruby codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">class Blogs</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  include Praxis::EndpointDefinition</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  media_type MediaTypes::Blog</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  version &#x27;1.0&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  description &lt;&lt;-EOS</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Blogs is the Resource where you write your thoughts.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    And there&#x27;s much more I could say about this resource...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  EOS</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  action :index do</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    routing { get &#x27;&#x27; }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    description &#x27;Fetch all blog entries&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    response :ok, Praxis::Collection.of(MediaTypes::Blog)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  end</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  action :show do</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    routing { get &#x27;/:id&#x27; }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    description &#x27;Fetch a single blog by id&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    params do</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      attribute :id</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    end</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    response :ok</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  end</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  action :create do</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    description &#x27;Create a new Blog&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    routing { post &#x27;&#x27; }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    payload reference: MediaTypes::Blog do</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        attribute :title</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        attribute :description</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    end</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    response :created</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    response :bad_request</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  end</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">end</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>At a glance, we have defined that this endpoint will respond only to Api version &quot;1.0&quot;, it has a description, uses a
routing prefix of &quot;/blogs&quot;, and exposes simple <code>:index</code>, <code>:show</code> and <code>:create</code> actions.
The <code>:index</code> action returns a collection of blogs and does not take any parameters. The <code>:show</code> action takes an id parameter and returns a single Blog mediatype. While <code>:index</code> and <code>:show</code> respond to HTTP GET verbs, the <code>:create</code> action responds is accessible through a <code>POST /blogs</code>, and can take a payload that contains a title and a description field. Successful requests will return a 201 created HTTP code, while sending a bad parameters will cause a 400 Bad Request response with the body containing the cause.</p><p>Let&#x27;s dig into the different configuration pieces available when defining endpoints</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="description"></a>Description<a class="hash-link" href="#description" title="Direct link to heading">#</a></h2><p>You can specify a description for the endpoint definition using the <code>description</code>
method. This description string is just for human consumption and is simply inserted directly into to the generated API documentation.</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-ruby codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">class Blogs</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  include Praxis::EndpointDefinition</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  description &lt;&lt;-EOS</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Blogs is the Resource where you write your thoughts.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    And there&#x27;s much more I could say about this resource...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  EOS</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">end</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="routing-prefix"></a>Routing Prefix<a class="hash-link" href="#routing-prefix" title="Direct link to heading">#</a></h2><p>Each endpoint definition has a routing prefix (partial path) which Praxis will
automatically prepend to all of the routes found in all of the actions of its resource. By default, this
prefix is the class name of the endpoint definition converted to snake-case.
For our <code>Blogs</code> endpoint definition above, the default routing prefix is
<code>blogs</code>. To override the default routing prefix, simply provide a value using the <code>prefix</code> method:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-ruby codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">class Blogs</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  include Praxis::EndpointDefinition</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  prefix &#x27;/my-blogs&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">end</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="media-type"></a>Media Type<a class="hash-link" href="#media-type" title="Direct link to heading">#</a></h2><p>Since endpoints usually group a collection of actions that are related to a type, you can set the &quot;default&quot; media type of a endpoint definition. This way, if the majority of actions return the same mediatype, you don&#x27;t need to repeat it as much.</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-ruby codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">class Blogs</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  include Praxis::EndpointDefinition</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  media_type BlogMediaType</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">end</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>A MediaType in Praxis is often more than just an Internet media-type string.
It commonly refers to the structure or schema with which a given resource type
will be displayed. This structure is also often associated with an Internet media-type string (i.e.
the string is the <code>name</code> for the structure schema).</p><p>The value you pass to the media_type method must be a:</p><ul><li>Praxis::MediaType-derived class that defines the attributes
available for representing an API resource.</li><li>string representing an Internet media type identifier (i.e.
&#x27;application/json&#x27;).</li></ul><p>For more information on Praxis media types, please see <a href="/docs/reference/design/media-types">MediaTypes</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="version"></a>Version<a class="hash-link" href="#version" title="Direct link to heading">#</a></h2><p>You can apply an API version to a endpoint definition by using the <code>version</code>
method:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-ruby codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">class Blogs</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  include Praxis::EndpointDefinition</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  version &#x27;1.0&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">end</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Setting the version of a endpoint definition allows you to have version control
over the resources available through the API.</p><p>You can use any string as a version. By using the version method, you&#x27;re
telling Praxis to only dispatch actions for this resource when the incoming request
carries the correct version value.</p><p>An incoming request can specify a version in three different ways:</p><ul><li>By providing an <code>X-Api-Version</code> header containing the defined version string. Example: <code>X-Api-Version: 1.0</code></li><li>By providing an <code>:api_version</code> parameter in the query containing the defined version string. Example: <code>/blogs?api_version</code></li><li>By using an appropriate URL prefix. Example: <code>/v1.0/blogs</code></li></ul><p>You can read more about how to configure the allowable ways to version the API in the <a href="/docs/reference/design/api-definition">API definition</a> section</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="parent-resource"></a>Parent Resource<a class="hash-link" href="#parent-resource" title="Direct link to heading">#</a></h2><p>Often times, we want to expose certain API resources embedded into others. For this reason, Praxis provides an easy way to define the parent of a resource by using the <code>parent</code> directive. This will configure the resource to use its parent&#x27;s <code>canonical_path</code> as the base for all of its actions (in addition to any <code>prefix</code> you may define on this resource). By default, a canonical path is the <code>:show</code> action of an endpoint (but can be changed using the <code>canonical_path :&lt;action_name&gt;</code> method in the definition)</p><p>Additionally, any parameters in the parent&#x27;s route will also be applied as defaults in the child. The last route parameter is assumed to be an &#x27;id&#x27;-type parameter, and is prefixed with the parent&#x27;s snake-cased singular name. I.e., <code>id</code> from a <code>Blog</code> parent will be renamed to <code>blog_id</code>. Any other parameters are copied unchanged.</p><p>This behavior can be overridden by providing a mapping hash of the form { &quot;parent_name&quot; =&gt; &quot;child_name&quot; } to the <code>parent</code> directive.</p><p>For example, to define a <code>Posts</code> subresource of the above <code>Blogs</code> resource:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-ruby codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">class Posts</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  include Praxis::EndpointDefinition</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  parent Blogs</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  action :show do</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    routing { get &#x27;/:id&#x27; }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  end</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">end</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>This would result in the <code>:show</code> action responding to the following path <code>/blogs/:blog_id/posts/:id</code>, due to the canonical path of the <code>Blogs</code> resource being <code>/blogs/:id</code>.</p><p>To achieve a custom parent parameter we could have used: <code>parent Blogs, :id =&gt; :parent_id</code> instead, which would have resulted in the following path: <code>/blogs/:parent_id/posts/:id</code>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="action-defaults"></a>Action Defaults<a class="hash-link" href="#action-defaults" title="Direct link to heading">#</a></h2><p>There are often situations where many actions within a endpoint will
require a common subset of definitions. For example, a common set of URL parameters,
a common set of headers, traits or even a common set of allowed responses.</p><p>Praxis allows you to easily define and share common pieces of code across all actions
by placing their definitions inside an <code>action_defaults</code> block at the endpoint definition level.
Here is an example:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-ruby codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">class Blogs</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  include Praxis::EndpointDefinition</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  action_defaults do</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    params do</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      attribute :dry_run, Attributor::Boolean, default: false</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    end</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    response :bad_request</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  end</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  action :index do</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    routing { get &#x27;&#x27; }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  end</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  action :show do</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    routing { get &#x27;/:id&#x27; }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    params do</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      attribute :id, String</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    end</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  end</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">end</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>The example above will cause the the <code>:dry_run</code> parameter to be propagated and
defined in all available actions of the <code>Blogs</code> endpoint definition (i.e., both
<code>:index</code> and <code>:show</code> actions will have such a parameter).</p><p>With <code>action_defaults</code> you can use <code>params</code>, <code>payload</code>, <code>headers</code>, and
<code>response</code> stanzas to propagate definitions to all existing actions.
If any of those stanzas are defined within an action itself Praxis will
appropriately merge them. Therefore, in this example, the <code>:show</code> action will
end up with both the <code>:dry_run</code> and <code>:id</code> parameters.</p><p>In case of conflict while merging, Praxis will always give overriding preference
to definitions found within the action block itself.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="canonical-paths"></a>Canonical Paths<a class="hash-link" href="#canonical-paths" title="Direct link to heading">#</a></h2><p>By default the canonical path for an endpoint will point to the routing path of the <code>:show</code> action. However, you can specify which action should be used for the resource&#x27;s canonical href with the <code>canonical_path</code> method:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-ruby codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">class Blogs</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  include Praxis::EndpointDefinition</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  canonical_path :show</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">end</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Having the appropriate <code>canonical_path</code> allows you to both generate and parse hrefs for a given resource by using:</p><ul><li><code>EndpointDefinition.to_href(&lt;named arguments hash&gt;)</code> to generate an href for the resource.</li><li><code>EndpointDefinition.parse_href(&lt;href String&gt;)</code> to get a type-coerced hash of the parameters for the canonical action from the given string.</li></ul><p>Given a controller (class or instance), you can use use those helpers by first calling its its <code>definition</code> method to retrieve the <code>EndpointDefinition</code> it implements, and then using either <code>to_href</code> or <code>parse_href</code> as described above.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="nodoc"></a>nodoc!<a class="hash-link" href="#nodoc" title="Direct link to heading">#</a></h2><p>TODO:  DEPRECATE IT??
You can mark a resource for exclusion from generated documentation by using the <code>nodoc!</code> method:</p><p>{% highlight ruby %}
class Blogs
include Praxis::EndpointDefinition</p><p>  nodoc!
end
{% endhighlight %}</p><p>Additionally, the resource&#x27;s actions and media type (if specified) will not be used when determining which media types should be documented.</p><p>The next big thing to expore is how we can define each of the specific actions for the endpoint. </p></div></article><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/reference/design/media-types"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Media Types</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/reference/design/actions"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Actions Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_2xL- thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#description" class="table-of-contents__link">Description</a></li><li><a href="#routing-prefix" class="table-of-contents__link">Routing Prefix</a></li><li><a href="#media-type" class="table-of-contents__link">Media Type</a></li><li><a href="#version" class="table-of-contents__link">Version</a></li><li><a href="#parent-resource" class="table-of-contents__link">Parent Resource</a></li><li><a href="#action-defaults" class="table-of-contents__link">Action Defaults</a></li><li><a href="#canonical-paths" class="table-of-contents__link">Canonical Paths</a></li><li><a href="#nodoc" class="table-of-contents__link">nodoc!</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow</a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord</a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog/">Blog</a></li><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/styles.27a80096.js"></script>
<script src="/runtime~main.d759ace7.js"></script>
<script src="/main.0f7e767c.js"></script>
<script src="/1.1d955ac3.js"></script>
<script src="/65.fc2dba12.js"></script>
<script src="/66.81df1f16.js"></script>
<script src="/935f2afb.f1e5e5bf.js"></script>
<script src="/64.4c9a6482.js"></script>
<script src="/b26b34a4.77c19e57.js"></script>
</body>
</html>