<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Praxis Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Praxis Blog Atom Feed"><title data-react-helmet="true">Request Life Cycle | Praxis</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Request Life Cycle | Praxis"><meta data-react-helmet="true" name="description" content="Praxis processes each incoming request by funneling them through a pipeline of stages. Stages are execution points during the servicing of a request, which could themselves contain a set of sub-stages. Each registered stage has a unique name and is connected to the other stages in a well-known order."><meta data-react-helmet="true" property="og:description" content="Praxis processes each incoming request by funneling them through a pipeline of stages. Stages are execution points during the servicing of a request, which could themselves contain a set of sub-stages. Each registered stage has a unique name and is connected to the other stages in a well-known order."><meta data-react-helmet="true" property="og:url" content="https://www.praxis-framework.io/docs/reference/implementation/request-life-cycle"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://www.praxis-framework.io/docs/reference/implementation/request-life-cycle"><link rel="stylesheet" href="/styles.ab2c79ee.css">
<link rel="preload" href="/styles.27a80096.js" as="script">
<link rel="preload" href="/runtime~main.d759ace7.js" as="script">
<link rel="preload" href="/main.0f7e767c.js" as="script">
<link rel="preload" href="/1.1d955ac3.js" as="script">
<link rel="preload" href="/65.fc2dba12.js" as="script">
<link rel="preload" href="/66.81df1f16.js" as="script">
<link rel="preload" href="/935f2afb.f1e5e5bf.js" as="script">
<link rel="preload" href="/64.4c9a6482.js" as="script">
<link rel="preload" href="/69835a31.b0cf2a04.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img src="/img/logo.png" alt="Praxis Logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logo.png" alt="Praxis Logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">Praxis</strong></a></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/gettingStarted/intro">Getting Started</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/reference/intro">Reference</a><a href="https://github.com/praxis/praxis" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2N3Q"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_3NWk">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_3NWk">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/logo.png" alt="Praxis Logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logo.png" alt="Praxis Logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">Praxis</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/gettingStarted/intro">Getting Started</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/reference/intro">Reference</a></li><li class="menu__list-item"><a href="https://github.com/praxis/praxis" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_vMrn"><div class="docSidebarContainer_3Ak5" role="complementary"><div class="sidebar_3gvy"><div class="menu menu--responsive thin-scrollbar menu_1yIk"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_1CUI" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Intro</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro/intro">Intro</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro/installation">Installation</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Getting Started</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/gettingStarted/intro">Intro</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/gettingStarted/designingApiResources">Designing our API resources</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/gettingStarted/settingUpOurDB">Setting Up Our Database</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/gettingStarted/implementingReads">Implementing Reads</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/gettingStarted/buildingCRUD">Building CRUD</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Reference</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/intro">Introduction</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Design</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/design/media-types">Media Types</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/design/endpoints">Endpoints</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/design/actions">Actions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/design/api-definition">General API Definitions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/design/response-definitions">Responses</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/design/traits">Traits</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/design/doc-generation">Document Generation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/design/multipart">Multipart</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!" tabindex="0">Implementation</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/implementation/controllers">Controllers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/implementation/application">Application</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/implementation/responses">Responses</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/reference/implementation/request-life-cycle">Request Life Cycle</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/implementation/multipart">Multipart Types</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Extensions</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/extensions/intro">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/extensions/mapper-plugin">Mapper Plugin</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/extensions/pagination-plugin">Pagination Plugin</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/extensions/field-selection">Field Selection</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/extensions/filtering">Filtering</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/extensions/rendering">Rendering</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Internals</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/internals/intro">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/internals/field_selection">FieldSelection</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/internals/field_expansion">FieldExpansion</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/internals/mapper_selectors">MapperSelectors</a></li></ul></li></ul></li></ul></div><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_2WRA"><svg width="20" height="20" role="img" class="collapseSidebarButtonIcon_CoMu"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div><main class="docMainContainer_2iGs"><div class="container padding-vert--lg docItemWrapper_1bxp"><div class="row"><div class="col docItemCol_U38p"><div class="docItemContainer_a7m4"><article><header><h1 class="docTitle_Oumm">Request Life Cycle</h1></header><div class="markdown"><p>Praxis processes each incoming request by funneling them through a pipeline of stages. Stages are execution points during the servicing of a request, which could themselves contain a set of sub-stages. Each registered stage has a unique name and is connected to the other stages in a well-known order.</p><p>Praxis allows applications to &#x27;hook into&#x27; any of those existing stages through <code>before</code>, <code>after</code> and <code>around</code> callbacks and provides facilities to create or alter the pipeline. Any stage or its hooks are able to abort the pipeline processing early, and shortcut directly to sending a response to the client. A callback can indicate such shortcut by simply returning a <code>Praxis::Request</code> object. Note that when a callback does that, any other further callbacks are not going to be invoked.</p><p>Note: while stages in the request lifecycle might behave similarly to bootstrap stages (as described <a href="/docs/reference/implementation/bootstrapping">here</a>), they perform a different role. Request life cycle stages define the processing path for every incoming request, while bootstrapping stages define the execution order when the application first boots.</p><p>Praxis comes out of the box with the following pipeline of stages for any incoming request:</p><p>![Request Life Cycle Diagram]({{ site.baseurl }}/public/images/praxis_request_life_cycle_diagram.png)</p><p>The first of these stages in the pipeline will start after the routing has been processed for the incoming request and the appropriate controller and action has
been identified. This means that currently, there is no way to affect the request routing dynamically.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="request-loading-stage-load_request"></a>Request Loading Stage (<code>:load_request</code>)<a class="hash-link" href="#request-loading-stage-load_request" title="Direct link to heading">#</a></h2><p>The request loading stage is used to retrieve all the necessary information from the incoming HTTP request so that it is ready for processing.</p><p>This involves:</p><ul><li>parsing the parameters from the URI captures</li><li>retrieving any parameters from query string</li><li>retrieving the paylod contents</li><li>retrieving the incoming headers</li></ul><p>All of these are done, without performing any parsing or type coercion: simply gathering the low-level arguments in one place.</p><p>Note: Strictly speaking retrieving the query string params involves some form-encoding parsing, but it still does not involve any type coercion.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="validation-stage-validate"></a>Validation Stage (<code>:validate</code>)<a class="hash-link" href="#validation-stage-validate" title="Direct link to heading">#</a></h2><p>During the Validate stage, Praxis will gather the raw data retrieved from the loading stage and will:</p><ul><li>load them into (read: coerce if necessary) into the proper structures as defined in your endpoint definitions for the action that this request is serving.</li><li>validate these created objects based on the requirements set forth by the endpoint definitions.</li></ul><p>These two tasks are done for data corresponding to headers, parameters and payload. In practice, this will result in creating the appropriate <code>headers</code>, <code>params</code> and <code>payload</code> objects accessible through the <code>request</code> object in the controller. Any errors while loading the data into the right types, or validating
their integrity will cause Praxis to abort the pipeline (by shortcutting to the  <code>:response</code> stage) and immediately return an error to the end user indicating the exact
problem (or problems) that were encountered about the incoming data.</p><p>The Validation stage is further composed of two sub-stages.</p><ul><li><code>:headers_and_params</code> : First, this stage will load the headers and the parameters. If all loaded fine they will both be validated in the same order.</li><li><code>:payload</code> : Then this stage will load the incoming payload and then validate its integrity after that.</li></ul><p>Splitting it is these sub-stages it allows enough flexibility to hook into the desired step.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="action-stageaction"></a>Action stage(<code>:action</code>)<a class="hash-link" href="#action-stageaction" title="Direct link to heading">#</a></h2><p>Once the incoming request has been loaded and validated, the next step is to deliver it to the controller action that will service it. At this point Praxis has created a <code>Praxis::Request</code> instance, and made it available to the controller through the <code>request</code> method. This object will have the <code>headers</code>, <code>params</code> and <code>payload</code> methods, which will return the appropriately loaded and validated objects, as defined in your endpoints. The same <code>params</code> attributes will also be splatted into keyword arguments of your controller action.</p><p>The request enters the Action stage at the point when the controller action is invoked. This is the stage where the application will do its logic. Note that your controller only gets invoked if the validation stage succeeds. Therefore, your action should never validate any of the <code>params</code>, <code>headers</code> or <code>payload</code> in its code as they are guaranteed to match all of the requirements of your definition.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="response-stage-response"></a>Response Stage (<code>:response</code>)<a class="hash-link" href="#response-stage-response" title="Direct link to heading">#</a></h2><p>The Response stage is going to <em>always</em> be invoked, even when any of the previous pipeline stages have decided to shortcut the cycle. This is done to give the application
a chance to catch and possibly modify the logic involved in returning the response to the user, even when it is an error response. In the normal, non-error case however, the Response stage is entered when the control returns from the controller action stage.</p><p>The responsibility of this stage is to inspect the returned value (usually a response instance) and perform the necessary steps to unpack it and send it back to the client.</p><p>Note that if any of the around, before or after filters in any other stage return a <code>Response</code> objecy, the request pipeline is immediately shortcut to this <code>:response</code> stage. Therefore, you should never assume that your filters will all be invoked by the time the <code>:response</code> stage code starts. For example, if there is a <code>before :action</code>
filter that sets the current user into the request object, do not assume that this user will be correctly set when the response stage executes, as previous <code>before :action</code> filter might have shortcut the cycle first.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="hooking-into-the-request-life-cycle"></a>Hooking Into the Request Life Cycle<a class="hash-link" href="#hooking-into-the-request-life-cycle" title="Direct link to heading">#</a></h2><p>There are three types of hooks you can use to run a block of code during the
life cycle of a request. You can register a callback to be run either <code>before</code>,
<code>after</code> or <code>around</code> any of the available stages.</p><p>Installing callbacks is done directly from your controller. Just use the class
DSL methods <code>before</code>, <code>after</code> or <code>around</code> that comes with the Praxis::Callback
concerns(already included by the Praxis::Controller module). Each of these methods take
the name of the stage to hook into, an optional list of options, and a callback block.</p><p>The name of the stage can be any of the ones described above: <code>:load_request</code>, <code>:validate</code> (including <code>:validate, :headers_and_params</code> or <code>:validate, :payload</code> to tap into a sub-stage only ), <code>:action</code> or <code>:response</code>.</p><p>The only option supported at the time of this writing is <code>:actions</code>, which
allows the caller to restrict the callback to be applied only to a set of named actions.
Passing no <code>actions</code> option is logically equivalent to passing every possible action in
your controller. More options for callbacks might be introduced in the future.</p><p>To install your hook for substages, pass a second argument after the stage name (i.e. <code>after :validate, :payload ...</code> for tapping into the <code>:payload</code> substage of <code>:validation</code>). If you completely omit the stage name, Praxis will default to the <code>action</code> stage because that&#x27;s the most common use case.</p><p>Here are some examples of how to register callbacks:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-ruby codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">  before :action, actions: [:show] do</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    puts &quot;Will print before invoking the controller method, for show action only&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  end</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  before actions: [:show] do</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    puts &quot;Omiting the :action parameter!&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    puts &quot;This is equivalent to the callback above&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  end</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  after :validate, :payload do |controller|</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    puts &quot;Will print after validating the payload for any action&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  end</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  after :validate, :payload, actions: [:create] do |controller|</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    puts &quot;Will print after validating the payload for create only&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  end</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  after :validate do</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    put &quot;Will print after the headers and payload substages&#x27; after callbacks&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  end</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  around :action do |controller, callee|</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    puts &quot;Before the action is called&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    callee.call</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    puts &quot;After the action is called&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  end</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">end</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Technically speaking there is not much difference between <code>after :validate</code> and <code>before :action</code> since they are subsequent stages. Semantically, however, they are different as all the <code>after :validate</code> callbacks will be executed before any of the <code>before :action</code> ones. So you should really register the callback based on what stage you depend on, and not on neighboring stages. Otherwise, your code might stop functioning when the pipeline order is changed.</p><p>There is, however, an important difference beween an <code>after :action</code> callback, and a <code>before :response</code> one. That is because the <code>:response</code> stage is always invoked regardless of errors in the previous stages. Therefore <code>after :action</code> will be always skipped on previous stage shortcuts, while <code>before :response</code> will always be invoked regardless of shortcuts (assuming that no other <code>before :response</code> callbacks fail before).</p><p>There is currently no mechanism to order the callbacks for a given stage. They will be executed
in the order that they were registered. Also, there is currently no way to install callbacks around the complete request lifecycle, for example, to install an <code>around</code> callback wrapping all of the
individual request stages. Both of these mechanisms can be added if the need arises.
To achieve something similar to a request <code>around</code> filter, use the <a href="/docs/reference/application">builtin middleware registration</a> that the Application provides</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="shortcutting-the-request-processing"></a>Shortcutting the request processing<a class="hash-link" href="#shortcutting-the-request-processing" title="Direct link to heading">#</a></h3><p>Any of the registered callback blocks (or the core stage execution code itself) can return a
<code>Praxis::Response</code> instance to signal the interruption of the request lifecycle processing. Anything else that the block returns (i.e., nil or any other value) will be ignored and assumed that it signals that the processing should continue.</p><p>If a <code>before</code> callback returns a response, the system will immediately stop processing any further
callbacks of any kind, and shortcut the execution to the <code>:response</code> stage. This means that (with
the exception of the <code>:request</code> stage):</p><ul><li>no other <code>before</code> callbacks in the chain will be executed</li><li>none of the <code>around</code> filters will be executed</li><li>the action won&#x27;t be invoked </li><li>none of the <code>after</code> callbacks will be run either</li></ul><p>If an <code>after</code> callback returns a response, no further <code>after</code> callbacks will be executed either.
Also note that the <code>around</code> callbacks are always started in after the <code>before</code> ones, since they wrap the processing of the controller <code>action</code>.</p></div></article><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/reference/implementation/responses"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Responses</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/reference/implementation/multipart"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Multipart Types Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_2xL- thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#request-loading-stage-load_request" class="table-of-contents__link">Request Loading Stage (<code>:load_request</code>)</a></li><li><a href="#validation-stage-validate" class="table-of-contents__link">Validation Stage (<code>:validate</code>)</a></li><li><a href="#action-stageaction" class="table-of-contents__link">Action stage(<code>:action</code>)</a></li><li><a href="#response-stage-response" class="table-of-contents__link">Response Stage (<code>:response</code>)</a></li><li><a href="#hooking-into-the-request-life-cycle" class="table-of-contents__link">Hooking Into the Request Life Cycle</a><ul><li><a href="#shortcutting-the-request-processing" class="table-of-contents__link">Shortcutting the request processing</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow</a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord</a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog/">Blog</a></li><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/styles.27a80096.js"></script>
<script src="/runtime~main.d759ace7.js"></script>
<script src="/main.0f7e767c.js"></script>
<script src="/1.1d955ac3.js"></script>
<script src="/65.fc2dba12.js"></script>
<script src="/66.81df1f16.js"></script>
<script src="/935f2afb.f1e5e5bf.js"></script>
<script src="/64.4c9a6482.js"></script>
<script src="/69835a31.b0cf2a04.js"></script>
</body>
</html>